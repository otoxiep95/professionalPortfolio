{"version":3,"sources":["js/index.js"],"names":["projectTemplate","document","querySelector","content","projectList","init","fetchData","url","fetch","then","response","json","jsondata","console","log","buildGallery","data","forEach","project","clone","cloneNode","textContent","title","rendered","_embedded","setAttribute","media_details","sizes","medium","source_url","remove","id","slug","style","backgroundColor","acf","backgroundcolor","appendChild"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA,IAAMA,eAAe,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,OAA3D;AACA,IAAMC,WAAW,GAAGH,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAApB;;AAEA,SAASG,IAAT,GAAgB;AACdC,EAAAA,SAAS;AACV;;AAED,SAASA,SAAT,GAAqB;AACnB,MAAMC,GAAG,GACP,yFADF;AAGAC,EAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQ,UAASC,QAAT,EAAmB;AACvB,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,GAHH,EAIGF,IAJH,CAIQ,UAASG,QAAT,EAAmB;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAG,IAAAA,YAAY,CAACH,QAAD,CAAZ;AACD,GAPH;AAQD;;AAED,SAASG,YAAT,CAAsBC,IAAtB,EAA4B;AAC1BA,EAAAA,IAAI,CAACC,OAAL,CAAa,UAAAC,OAAO,EAAI;AACtB,QAAIC,KAAK,GAAGnB,eAAe,CAACoB,SAAhB,CAA0B,IAA1B,CAAZ;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAK,CAACjB,aAAN,CAAoB,iBAApB,CAAZ;AACAiB,IAAAA,KAAK,CAACjB,aAAN,CAAoB,iBAApB,EAAuCmB,WAAvC,GAAqDH,OAAO,CAACI,KAAR,CAAcC,QAAnE;;AACA,QAAIL,OAAO,CAACM,SAAR,CAAkB,kBAAlB,CAAJ,EAA2C;AACzC;AACAL,MAAAA,KAAK,CACFjB,aADH,CACiB,cADjB,EAEGuB,YAFH,CAGI,KAHJ,EAIIP,OAAO,CAACM,SAAR,CAAkB,kBAAlB,EAAsC,CAAtC,EAAyCE,aAAzC,CAAuDC,KAAvD,CAA6DC,MAA7D,CACGC,UALP;AAOD,KATD,MASO;AACL;AACAV,MAAAA,KAAK,CAACjB,aAAN,CAAoB,KAApB,EAA2B4B,MAA3B;AACD;;AAEDX,IAAAA,KAAK,CAACjB,aAAN,CAAoB,UAApB,EAAgC6B,EAAhC,GAAqCb,OAAO,CAACc,IAA7C;AACAb,IAAAA,KAAK,CAACjB,aAAN,CAAoB,UAApB,EAAgC+B,KAAhC,CAAsCC,eAAtC,GACEhB,OAAO,CAACiB,GAAR,CAAYC,eADd;AAEAjB,IAAAA,KAAK,CAACjB,aAAN,CAAoB,UAApB,EAAgC+B,KAAhC,CAAsCC,eAAtC,GACEhB,OAAO,CAACiB,GAAR,CAAYC,eADd;AAEAhC,IAAAA,WAAW,CAACiC,WAAZ,CAAwBlB,KAAxB;AACD,GAxBD;AAyBD;;AACDd,IAAI","file":"js.00a46daa.map","sourceRoot":"..","sourcesContent":["\"use strict\";\r\n\r\nconst projectTemplate = document.querySelector(\"template\").content;\r\nconst projectList = document.querySelector(\".gallery\");\r\n\r\nfunction init() {\r\n  fetchData();\r\n}\r\n\r\nfunction fetchData() {\r\n  const url =\r\n    \"https://professionalportfolio.albertopachecommd.com/wp-json/wp/v2/galleryproject?_embed\";\r\n\r\n  fetch(url)\r\n    .then(function(response) {\r\n      return response.json();\r\n    })\r\n    .then(function(jsondata) {\r\n      console.log(jsondata);\r\n      buildGallery(jsondata);\r\n    });\r\n}\r\n\r\nfunction buildGallery(data) {\r\n  data.forEach(project => {\r\n    let clone = projectTemplate.cloneNode(true);\r\n    console.log(clone.querySelector(\".overlay-txt h2\"));\r\n    clone.querySelector(\".overlay-txt h2\").textContent = project.title.rendered;\r\n    if (project._embedded[\"wp:featuredmedia\"]) {\r\n      //img is there\r\n      clone\r\n        .querySelector(\".project-img\")\r\n        .setAttribute(\r\n          \"src\",\r\n          project._embedded[\"wp:featuredmedia\"][0].media_details.sizes.medium\r\n            .source_url\r\n        );\r\n    } else {\r\n      // no img\r\n      clone.querySelector(\"img\").remove();\r\n    }\r\n\r\n    clone.querySelector(\".project\").id = project.slug;\r\n    clone.querySelector(\".project\").style.backgroundColor =\r\n      project.acf.backgroundcolor;\r\n    clone.querySelector(\".overlay\").style.backgroundColor =\r\n      project.acf.backgroundcolor;\r\n    projectList.appendChild(clone);\r\n  });\r\n}\r\ninit();\r\n"]}